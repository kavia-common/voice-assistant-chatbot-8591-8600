{"is_source_file": true, "format": "Python", "description": "This Python module provides functionality for text-to-speech synthesis using multiple engines (pyttsx3 and gTTS). It includes private helper functions to synthesize speech with each engine and a public function to select the engine based on settings or parameters, providing fallback mechanisms. The code handles temporary file management and exception handling for robustness.", "external_files": ["django.conf.settings", "io", "typing", "pyttsx3", "tempfile", "os", "gtts.gTTS"], "external_methods": ["settings.TTS_ENGINE", "pyttsx3.init", "pyttsx3.Engine.getProperty", "pyttsx3.Engine.setProperty", "pyttsx3.Engine.save_to_file", "pyttsx3.Engine.runAndWait", "gtts.gTTS"], "published": ["synthesize_speech"], "classes": [], "methods": [{"name": "Optional[Tuple[bytes,str]] _try_pyttsx3(text: str, voice: Optional[str] = None)", "description": "Attempts to synthesize speech into a WAV byte stream using pyttsx3, with optional voice selection.", "scope": "", "scopeKind": ""}, {"name": "Optional[Tuple[bytes,str]] _try_gtts(text: str, lang: str = \"en\")", "description": "Attempts to synthesize speech into MP3 byte stream using gTTS.", "scope": "", "scopeKind": ""}, {"name": "Tuple[Optional[bytes],str,str] synthesize_speech(text: str, voice: Optional[str] = None, engine: Optional[str] = None)", "description": "Main public function to synthesize text into speech using configured or specified engine, handling fallbacks and returning audio bytes, MIME type, and engine used.", "scope": "", "scopeKind": ""}], "calls": ["pyttsx3.init", "pyttsx3.Engine.getProperty", "pyttsx3.Engine.setProperty", "pyttsx3.Engine.save_to_file", "pyttsx3.Engine.runAndWait", "gtts.gTTS", "settings.TTS_ENGINE"], "search-terms": ["text-to-speech", "pyttsx3", "gtts", "tts engine fallback", "voice selection", "temporary WAV file"], "state": 2, "file_id": 23, "knowledge_revision": 55, "git_revision": "124e100569935b847819df3d9eab527c99b0086c", "revision_history": [{"47": ""}, {"55": "124e100569935b847819df3d9eab527c99b0086c"}], "ctags": [{"_type": "tag", "name": "_try_gtts", "path": "/home/kavia/workspace/code-generation/voice-assistant-chatbot-8591-8600/voice_chatbot_backend/api/services/tts.py", "pattern": "/^def _try_gtts(text: str, lang: str = \"en\") -> Optional[Tuple[bytes, str]]:$/", "language": "Python", "typeref": "typename:Optional[Tuple[bytes,str]]", "kind": "function", "signature": "(text: str, lang: str = \"en\")"}, {"_type": "tag", "name": "_try_pyttsx3", "path": "/home/kavia/workspace/code-generation/voice-assistant-chatbot-8591-8600/voice_chatbot_backend/api/services/tts.py", "pattern": "/^def _try_pyttsx3(text: str, voice: Optional[str] = None) -> Optional[Tuple[bytes, str]]:$/", "language": "Python", "typeref": "typename:Optional[Tuple[bytes,str]]", "kind": "function", "signature": "(text: str, voice: Optional[str] = None)"}, {"_type": "tag", "name": "synthesize_speech", "path": "/home/kavia/workspace/code-generation/voice-assistant-chatbot-8591-8600/voice_chatbot_backend/api/services/tts.py", "pattern": "/^def synthesize_speech(text: str, voice: Optional[str] = None, engine: Optional[str] = None) -> T/", "language": "Python", "typeref": "typename:Tuple[Optional[bytes],str,str]", "kind": "function", "signature": "(text: str, voice: Optional[str] = None, engine: Optional[str] = None)"}], "hash": "20b60a15ee8a36203487529768808df7", "format-version": 4, "code-base-name": "voice_chatbot_backend", "filename": "voice_chatbot_backend/api/services/tts.py"}